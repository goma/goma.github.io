---
layout: default
title: Goma dependencies build script
---

<h1>Goma Dependencies build script</h1>
<p>6/20/2014 â€“ C. J. Miner</p>

<p>Welcome to the new BETA Quick-Build page for Goma! We have made a run script that will allow you to easily download all of the necesarry supporting files for Goma, and we have also included simple instructions on how to correctly configure Goma so that it is ready for immediate use!</p>

<p>This script has been tested on CentOS 6, CentOS 7, and Redhat 6, and requires 7GB of free harddisk space.</p>
<p>It also requires wget and md5sum, though both of these should be installed already.</p>

<h3>Building and installing the required libraries</h3>
<p><b>1)</b> Download the Goma Library build script here: <a href="https://raw.githubusercontent.com/goma/goma/master/scripts/build-goma-dep-trilinos-12.sh">Goma Library build script</a></p>
<p><b>2)</b> Use the script in the following way: </p>
<pre>bash build-goma-dep-trilinos-12.sh -j[Number of Make Jobs] [Build/Install Location]</pre>
<p>This script requires about 3GB of ram per make job and the install location should be final.</p>
<p>As soon as everything completes, you should have the essential libraries required to install Goma!</p>
<p><b>3)</b> Before building goma you should add the newly compiled openmpi, and SEACAS to your path.</p>

<p>If you want easy access you can add these settings to your shell settings (e.g. .bashrc) otherwise you can type them in manually each time you want to run Goma.</p>
<p>OPENMPI:</p>

<pre>
  export LD_LIBRARY_PATH="/[path to gomalibs]/openmpi-[openmpi version]/lib:$LD_LIBRARY_PATH"
  export PATH="/[path to gomalibs]/openmpi-[openmpi version]/bin:$PATH"
</pre>

<p>SEACAS</p>

<pre>
  export PATH="/[path to gomalibs]/SEACAS-[SEACAS version]/bin:$PATH"  
</pre>

<h3>Building Goma And Configuring Settings.mk</h3>
<p><b>1)</b> Download Goma from github: <a href="https://github.com/goma">Goma</a>.</p>
<p>This can be done in bash with:</p>
<pre>git clone https://github.com/goma/goma</pre>
<p><b>2)</b> Copy the settings.mk-example file to "settings.mk".</p>
<p><b>3)</b> Open up settings.mk and change GOMA_LIBS to the directory you installed the libraries.</p>
<p><b>4)</b> Change the versions of TRILINOS_TOP, SEACAS_TOP, and MPI_TOP to the versions in your library.</p>
<p><b>5)</b> Change any other appropriate settings. For example you may want stratimikos support.</p>

<br>
<p>Goma should now compile with <pre>make</pre></p>

<p>If you get any errors then it is probably something which can be fixed with settings.mk.</p>

<br>
<h3>Building Brkfix</h3>
<p><b>1)</b> Download Brkfix from github.</p>
<p>This can be done in bash with:</p>
<pre>git clone https://github.com/goma/brkfix</pre>
<p><b>2)</b> Open up Makefile.Trilinos and change GOMA_LIBS to the directory you installed the libraries./</p>
<p><b>3)</b> Change TRILINOS_TOP to your version of Trilinos</p>
<br>
<p>Brkfix should now compile with <pre>make -f Makefile.Trilinos</pre></p>
<br>
<p>You have now compiled Goma and Brkfix. If you have never used Goma before then <a href="http://goma.github.io/documentation.html">click here for documentation.</a></p>
